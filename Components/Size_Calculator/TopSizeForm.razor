@inject NavigationManager NavigationManager

<!-- Form for Size Calculator input -->
<EditForm Model="@SizeCalculator" OnValidSubmit="@OnSubmit">
    <DataAnnotationsValidator /> <!-- Enables validation using data annotations -->
    <ValidationSummary class="text-danger" /> <!-- Displays validation errors -->
    <!-- Input for Height -->
    <div class="mb-3">
        <label for="Height" class="form-label">Height (cm):</label>
        <InputNumber id="Height" @bind-Value="SizeCalculator.Height" class="form-control" />
        <ValidationMessage For="@(() => SizeCalculator.Height)" /> <!-- Error message for Height -->
    </div>

    <!-- Input for Weight -->
    <div class="mb-3">
        <label for="Weight" class="form-label">Weight (kg):</label>
        <InputNumber id="Weight" @bind-Value="SizeCalculator.Weight" class="form-control" />
        <ValidationMessage For="@(() => SizeCalculator.Weight)" /> <!-- Error message for Weight -->
    </div>

    <!-- Input for Chest -->
    <div class="mb-3">
        <label for="Bust" class="form-label">Chest (cm):</label>
        <InputNumber id="Bust" @bind-Value="SizeCalculator.Bust" class="form-control" />
        <ValidationMessage For="@(() => SizeCalculator.Bust)" /> <!-- Error message for Chest -->
    </div>

    <!-- Input for Waist -->
    <div class="mb-3">
        <label for="Waist" class="form-label">Waist (cm):</label>
        <InputNumber id="Waist" @bind-Value="SizeCalculator.Waist" class="form-control" />
        <ValidationMessage For="@(() => SizeCalculator.Waist)" /> <!-- Error message for Waist -->
    </div>

    <!-- Input for Arm Length -->
    <div class="mb-3">
        <label for="SleeveLength" class="form-label">Arm Length (cm):</label>
        <InputNumber id="SleeveLength" @bind-Value="SizeCalculator.SleeveLength" class="form-control" />
        <ValidationMessage For="@(() => SizeCalculator.SleeveLength)" /> <!-- Error message for Arm Length -->
    </div>

    <!-- Action buttons: Calculate and Back -->
    <div class="text-center d-flex justify-content-center gap-3">
        <button type="submit" class="btn btn-primary px-4">Calculate</button> <!-- Submit the form -->
        <button type="button" class="btn btn-secondary px-4" @onclick="NavigateBack">Back</button> <!-- Navigate back -->
    </div>

</EditForm>

@code {
    [Parameter]
    public SizeCalculator SizeCalculator { get; set; } // Bound SizeCalculator model

    [Parameter]
    public EventCallback OnSubmit { get; set; } // Callback for form submission

    private void NavigateBack()
    {
        // Navigate to the previous page or a specific route
        NavigationManager.NavigateTo("/products"); // Update the URL to your desired route
    }
}
